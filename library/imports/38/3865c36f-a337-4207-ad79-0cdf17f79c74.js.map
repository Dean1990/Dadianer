{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var com = require('Common');\nmodule.exports = {\n\n    chuPai: function (player){\n\n        //var node = com.players[com._currentPlayer];\n\n        //cc.log(player.node.shouPai);\n\n        com.sortPai(player.node.shouPai)\n\n        if(com.lastPai==null||com.lastPai.length==0){\n\n            //出一个最小权值的组合\n\n        }else {\n\n            var lastWeight = com.convertValueMore(com.lastPai);\n\n            var weightArr = this.analyze(player.node.shouPai);\n\n            //cc.log(weightArr);\n\n            this.sortWeightArr(weightArr);\n\n            for(var i = 0;i<weightArr.length;i++){\n\n                var weight = weightArr[i][0];\n\n                if(weight>lastWeight && (((com.lastPai.length==1 && (weight<=180 || weight>=1000))||com.lastPai.length>1))){\n\n                    //  var canvas = cc.director.getScene().getChildByName('Canvas');\n\n                    //  cc.log(canvas);\n\n                     var size = cc.winSize;\n\n                    //出牌\n                    var pais = player.node.shouPai.splice(weightArr[i][1],weightArr[i][2]);\n\n                     //清空lastPai\n                    if(com.lastPai!=null){\n                        //清空上家出的牌 准备记录此次出牌\n                        com.lastPai.splice(0,com.lastPai.length);\n\n                    }else {\n\n                        com.lastPai = new Array();\n\n                    }\n\n                    //展示\n                    for(var j = 0;j<pais.length;j++){\n\n                        var node = pais[j];\n\n                        cc.director.getScene().addChild(node);\n\n                        node.setPosition(cc.p(size.width/2 + j*30,size.height/2));\n\n                        //更新到lastPai\n                        com.lastPai.push(pais[j]);\n\n                    }\n                    \n\n                    com.nextPlayer();\n\n                    break;\n\n                }\n\n            }\n\n            \n        }\n\n    },\n\n    /**\n     * 排序权值列表\n     */\n    sortWeightArr:function(weightArr){\n\n        for(var i = 0;i<weightArr.length;i++){\n\n            for(var j = i;j<weightArr.length;j++){\n\n                if(weightArr[i][0]>weightArr[j][0]){\n\n                    var tempArr = weightArr[i];\n\n                    weightArr[i] = weightArr[j];\n\n                    weightArr[j] = tempArr;\n\n                }\n\n            }\n\n        }\n\n    },\n\n    /**\n     * 计算可以出牌的所有权值\n     */\n    analyze:function(pais){\n\n        var weightArr = new Array();//[权值,开始下标,长度]\n\n        // var lastLength = com.lastPai.length;\n\n        if(pais!=null){\n\n            // for(var j = 0;j<pais.length;j++){\n            //     cc.log(pais[j]._name);\n            // }\n                \n\n            for(var i = 0;i<pais.length;i++){\n\n                // cc.log(\"i:\"+i);\n                // cc.log(weightArr.length);\n                // cc.log(pais[i]._name);\n\n                var f = pais[i]._name.substring(0,1);\n\n                var l = parseInt(pais[i]._name.substring(1));\n\n                if(f == \"E\"){\n                    // if(lastLength==1){\n                        //鬼 单张\n                        weightArr.push([com.convertClownValue(l),i,1]);\n                    // }\n\n                    var j = i+1;\n\n                    if(j<pais.length){\n\n                        var f2 = pais[j]._name.substring(0,1);\n                        if(f2 == \"E\"){\n                            //存储对鬼的权值\n                            weightArr.push([com.convertValueMore(pais.slice(i,j+1)),i,2]);\n\n                        }\n\n                    }\n\n                }else {\n                    // if(lastLength==1){\n                        //对单张的权值保存\n                        weightArr.push([com.convertValue(l),i,1]);\n                    // }\n\n                    var j = 0;\n\n                    var isCompose = false;\n\n                    do{\n                        j++;\n\n                        if((i+j)<pais.length){\n                        \n                            var l2 = parseInt(pais[i+j]._name.substring(1));\n\n                            isCompose = l==l2;\n\n                            // var isDifferentFive = false;\n                            // //对花5的处理\n                            // if(l==5 && j==1){\n\n                            //     var f2 = pais[i+j]._name.substring(0,1);\n\n                            //     var code = f.charCodeAt()+f2.charCodeAt();\n\n                            //     //不是对黑5红5\n                            //     if(code!=196 && code!=198){\n\n                            //         isDifferentFive = true;\n\n                            //     }\n\n                            // }\n\n                            // if(isCompose && (!(lastLength==1 && j==1) || (l==5 && !isDifferentFive))){\n                            if(isCompose){\n\n                                //对多张的权值保存\n                                weightArr.push([com.convertValueMore(pais.slice(i,i+j+1)),i,j+1]);\n                                \n                            }\n\n                        }else{\n\n                            break;\n\n                        }\n\n                    }while(isCompose);\n\n                    if(l!=5){\n                        //5特殊不能省略这个过程\n                        //去除重复权值计算\n                        i = i+j-1;\n                    }\n\n                }\n\n            }\n\n        }\n\n        return weightArr;\n\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n};\n"
  ]
}