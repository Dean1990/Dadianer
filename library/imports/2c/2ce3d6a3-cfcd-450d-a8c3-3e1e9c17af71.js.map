{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "AAAA,MAAM,CAAC,OAAO,GAAG;;AAEb,aAAS,EAAG,CAAC;;AAEb,UAAM,EAAG,EAAE;;AAEX,WAAO,EAAE,IAAI;;AAEb,YAAQ,EAAC,IAAI;;;;AAIb,kBAAc,EAAC,CAAC;;AAEhB,aAAS,EAAC,CAAC;;AAEX,aAAS,EAAC,IAAI;;AAEd,kBAAc,EAAC,wBAAS,WAAW,EAAC;;AAEhC,YAAI,CAAC,cAAc,GAAG,WAAW,CAAC;;AAElC,YAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;KAEjE;;AAED,cAAU,EAAC,oBAAS,OAAO,EAAC;;AAExB,UAAE,CAAC,GAAG,CAAC,KAAK,GAAC,IAAI,CAAC,cAAc,CAAC,CAAC;;AAElC,UAAE,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;;AAGtB,YAAI,OAAO,GAAG,KAAK,CAAC;;AAEpB,aAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;;AAEtC,cAAE,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;;AAE1B,gBAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,GAAC,CAAC,CAAA,GAAE,IAAI,CAAC,SAAS,EAAC;;AAE3D,kBAAE,CAAC,GAAG,CAAC,UAAU,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAA;;AAEpC,uBAAO,GAAG,IAAI,CAAC;;AAEf,sBAAM;aAET;SAEJ;;AAED,UAAE,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;;AAElB,UAAE,CAAC,GAAG,CAAC,UAAU,GAAC,OAAO,CAAC,CAAC;;AAE3B,YAAG,OAAO,EAAC;;AAEP,gBAAI,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,cAAc,GAAC,CAAC,CAAA,GAAE,IAAI,CAAC,SAAS,CAAC;;AAE7D,gBAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;SAE5B,MAAI;;AAED,gBAAG,OAAO,IAAE,IAAI,IAAE,OAAO,CAAC,MAAM,IAAE,CAAC,EAAC;;AAEhC,oBAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;;AAEpC,oBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;aAEtF,MAAK;;AAEF,oBAAI,CAAC,SAAS,GAAG,CAAC,CAAC;;AAEnB,oBAAI,CAAC,YAAY,EAAE,CAAC;;AAEpB,oBAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;;AAExB,oBAAI,CAAC,WAAW,EAAE,CAAC;aAEtB;;;AAGD,gBAAG,IAAI,CAAC,SAAS,IAAG,CAAC,GAAC,IAAI,CAAC,SAAS,CAAC,MAAM,AAAC,EAAC;;;AAGzC,oBAAI,CAAC,YAAY,EAAE,CAAC;;AAEpB,oBAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;aAExB;;AAED,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;;AAE/D,gBAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,EAAC;;AAErD,kBAAE,CAAC,GAAG,CAAC,YAAY,GAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;;AAE3C,oBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;;AAEzC,oBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,MAAM,GAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;aAE9G;;AAED,gBAAI,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,cAAc,GAAC,CAAC,CAAA,GAAE,IAAI,CAAC,SAAS,CAAC;;;;AAI7D,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;;AAE9D,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,EAAE,CAAC;;AAE1D,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,EAAE,CAAC;SAE9C;KAEJ;;;;;AAKD,eAAW,EAAC,qBAAS,OAAO,EAAC,CAAC,EAAC;;AAE3B,YAAI,SAAS,GAAG,CAAC,IAAE,IAAI,CAAC,cAAc,CAAC;;;;;AAKvC,YAAG,CAAC,SAAS,EAAC;;AAEV,mBAAO,KAAK,CAAC;SAChB;;;AAGD,YAAG,OAAO,IAAE,IAAI,EAAC;;AAEb,gBAAG,IAAI,CAAC,QAAQ,IAAE,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAE,CAAC,EAAC;;AAE7C,uBAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;aAEtC,MAAK;;AAEF,oBAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;;AAE5B,oBAAI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;;AAEtC,oBAAG,UAAU,IAAE,CAAC,EAAC;;AAEb,wBAAG,MAAM,IAAI,CAAC,EAAC;;AAEX,+BAAO,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,GAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBAE9E,MAAK;;AAEF,4BAAI,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;;AAE3C,+BAAO,KAAK,GAAC,IAAI,IAAI,KAAK,GAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBAEnE;iBAEJ,MAAK,IAAG,UAAU,IAAI,CAAC,IAAI,UAAU,GAAG,CAAC,EAAC;;AAEvC,wBAAG,MAAM,IAAE,CAAC,EAAC;;AAET,+BAAO,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,GAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBAE9E,MAAK;;AAEF,+BAAO,KAAK,CAAC;qBAEhB;iBAEJ;;AAED,uBAAO,KAAK,CAAC;aAEhB;SAEJ;;AAED,eAAO,KAAK,CAAC;KAEhB;;;;;AAKD,gBAAY,EAAC,sBAAS,GAAG,EAAC;;AAEtB,YAAI,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;;AAExB,YAAG,MAAM,IAAE,CAAC,EAAC;;AAET,mBAAO,IAAI,CAAC;SACf,MAAK,IAAG,MAAM,GAAC,CAAC,EAAC;;AAEd,gBAAI,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;;AAEtC,gBAAI,OAAO,GAAG,KAAK,CAAC;;AAEpB,iBAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAC,MAAM,EAAC,CAAC,EAAE,EAAC;;AAEvB,oBAAG,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,IAAE,GAAG,EAAC;;AAEhC,wBAAG,OAAO,EAAC;;;AAGP,4BAAG,MAAM,IAAG,CAAC,EAAE;;AAEX,mCAAO,IAAI,CAAC;yBAEf,MAAK;;AAEF,mCAAO,KAAK,CAAC;yBAEhB;qBACJ,MAAK;;AAEF,+BAAO,GAAG,IAAI,CAAC;qBAElB;iBAGJ,MAAK;;AAEF,wBAAG,OAAO,EAAC;;AAEP,+BAAO,KAAK,CAAC;qBAEhB;;AAED,wBAAI,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;;AAEvC,wBAAG,KAAK,IAAE,MAAM,EAAC;;AAEb,+BAAO,KAAK,CAAC;qBAEhB;iBAEJ;aAEJ;;;AAGD,mBAAO,CAAC,OAAO,CAAC;SAEnB,MAAK;;AAEF,mBAAO,KAAK,CAAC;SAEhB;KAEJ;;;;;;AAMD,gBAAY,EAAC,sBAAS,CAAC,EAAC;;AAEpB,YAAG,CAAC,GAAC,CAAC,EAAC;;AAEH,mBAAO,CAAC,EAAE,GAAC,CAAC,CAAA,GAAE,EAAE,CAAC;SAEpB,MAAK;;AAEF,mBAAO,CAAC,GAAC,EAAE,CAAC;SAEf;KAEJ;;;;;;AAMD,qBAAiB,EAAC,2BAAS,CAAC,EAAC;;;AAGzB,eAAO,CAAC,EAAE,GAAC,CAAC,GAAC,CAAC,GAAC,CAAC,CAAA,GAAE,EAAE,CAAC;KAExB;;;;;AAKD,oBAAgB,EAAC,0BAAS,GAAG,EAAC;;AAE1B,YAAI,MAAM,GAAG,CAAC,CAAC;;AAEf,YAAG,GAAG,IAAE,IAAI,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAC;;AAEvD,mBAAO,MAAM,CAAC;SAEjB,MAAK;;AAEF,gBAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;;AAEpC,gBAAI,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;;AAE5C,gBAAG,CAAC,IAAI,GAAG,EAAC;;AAER,sBAAM,GAAG,EAAE,GAAC,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC;aAGrB,MAAK;;AAEF,oBAAG,CAAC,GAAC,CAAC,EAAC;;AAEH,0BAAM,GAAG,EAAE,GAAC,CAAC,CAAC;iBAEjB,MAAK;;AAEF,0BAAM,GAAG,CAAC,CAAC;iBAEd;aAEJ;;AAED,gBAAG,GAAG,CAAC,MAAM,IAAE,CAAC,EAAC;;AAEb,oBAAG,CAAC,IAAI,EAAE,EAAC;;AAEP,2BAAO,EAAE,GAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAC,CAAC,CAAC,GAAC,CAAC,CAAC;iBAE9B,MAAK,IAAG,CAAC,IAAI,CAAC,EAAC;;AAEZ,4BAAI,KAAK,GAAG,CAAC,CAAC,UAAU,EAAE,GAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,UAAU,EAAE,CAAC;;AAEpE,4BAAG,KAAK,IAAI,GAAG,EAAC;;AAEZ,mCAAO,EAAE,GAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAC,CAAC,CAAC,GAAC,CAAC,CAAC;yBAC9B,MAAK,IAAG,KAAK,IAAI,GAAG,EAAC;;AAElB,uCAAO,EAAE,GAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAC,CAAC,CAAC,GAAC,CAAC,CAAA;6BAC7B;qBAEJ,MAAK,IAAG,CAAC,IAAI,GAAG,EAAC;;AAEd,mCAAO,EAAE,GAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAC,CAAC,CAAC,GAAC,CAAC,CAAC;yBAE9B;aAEJ;;;;AAID,mBAAO,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SAG3C;KAEJ;;;;;AAKD,WAAO,EAAC,iBAAS,SAAS,EAAC;;;;AAIvB,aAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAC,SAAS,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;;AAEjC,iBAAI,IAAI,CAAC,GAAG,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,SAAS,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;;AAEnC,oBAAI,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;;AAE/B,oBAAI,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;;;;;;AAM/B,oBAAG,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAC;;;;AAIzD,wBAAI,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;;AAExB,6BAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;;AAE5B,6BAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;iBAEvB,MAAK,IAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,IAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAAC;;AAE5C,wBAAI,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,UAAU,EAAE,CAAC;AAC9C,wBAAI,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,UAAU,EAAE,CAAC;;;AAG9C,wBAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,IAAE,GAAG,EAAC;;;AAGvB,4BAAG,KAAK,IAAE,EAAE,EAAC;;AAET,iCAAK,GAAG,EAAE,CAAC;yBAEd,MAAK,IAAG,KAAK,IAAE,EAAE,EAAC;;AAEf,iCAAK,GAAG,EAAE,CAAC;yBAEd;;AAED,4BAAG,KAAK,IAAE,EAAE,EAAC;;AAET,iCAAK,GAAG,EAAE,CAAC;yBAEd,MAAK,IAAG,KAAK,IAAE,EAAE,EAAC;;AAEf,iCAAK,GAAG,EAAE,CAAC;yBAEd;qBAEJ;;AAED,wBAAG,KAAK,GAAC,KAAK,EAAC;;AAEX,4BAAI,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;;AAExB,iCAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;;AAE5B,iCAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;qBAEvB;iBAEJ;aACJ;SAGJ;KAEJ;;;;;AAKD,eAAW,EAAC,uBAAU;;AAElB,UAAE,CAAC,GAAG,CAAC,SAAS,GAAC,IAAI,CAAC,cAAc,CAAC,CAAC;;AAEtC,YAAG,IAAI,CAAC,QAAQ,IAAE,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAG,CAAC,EAAC;;AAE/C,gBAAI,IAAI,GAAG,EAAE,CAAC,OAAO,CAAC;;;AAGtB,iBAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;;AAErC,oBAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;;AAE5B,kBAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AAChB,kBAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;;AAEb,kBAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;;AAEtC,oBAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAC,CAAC,GAAG,CAAC,GAAC,EAAE,EAAC,IAAI,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC,CAAC;aAE7D;SAEJ;KAEJ;;;;;AAKD,gBAAY,EAAC,wBAAU;;AAEnB,UAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;;AAEvB,YAAG,IAAI,CAAC,QAAQ,IAAE,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAG,CAAC,EAAC;;AAE/C,iBAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;;AAErC,oBAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;;AAE5B,kBAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;;AAEb,oBAAI,CAAC,gBAAgB,EAAE,CAAC;;AAExB,oBAAI,CAAC,OAAO,EAAE,CAAC;aAElB;SAEJ;KAEJ;;CAIJ,CAAC",
  "file": "unknown",
  "sourcesContent": [
    "module.exports = {\n\n    playerNum : 4,//玩家数\n\n    paiNum : 32,//牌数\n\n    players: null,//所有玩家的容器\n\n    _lastPai:null,//上家出的牌\n\n    //_firstPlayer:0,//第一个出牌的玩家\n\n    _currentPlayer:0,//当前出牌的玩家\n\n    _buChuNum:0,//记录不出牌次数\n\n    winPlayer:null,//记录胜出者序号\n\n    setFirstPlayer:function(firstPlayer){\n\n        this._currentPlayer = firstPlayer;\n\n        this.players[this._currentPlayer].currentTag.setVisible(true);\n\n    },\n\n    nextPlayer:function(lastPai){\n\n        cc.log(\"cp:\"+this._currentPlayer);\n\n        cc.log(\"winPlayer->\");\n        \n\n        var isWiner = false;\n\n        for(var i = 0;i<this.winPlayer.length;i++){\n\n            cc.log(this.winPlayer[i]);\n\n            if(this.winPlayer[i] == (this._currentPlayer+1)%this.playerNum){\n\n                cc.log(\"winer i:\"+this.winPlayer[i])\n\n                isWiner = true;\n\n                break;\n\n            }\n\n        }\n\n        cc.log(\"for end\");\n\n        cc.log(\"isWiner:\"+isWiner);\n\n        if(isWiner){\n\n            this._currentPlayer = (this._currentPlayer+1)%this.playerNum;\n\n            this.nextPlayer(lastPai);\n\n        }else{\n\n            if(lastPai==null||lastPai.length==0){\n\n                this._buChuNum = this._buChuNum + 1;\n                //不出\n                this.players[this._currentPlayer].getComponent(\"Player\").actionLabel.string = \"不出\";\n\n            }else {\n\n                this._buChuNum = 0;\n                //清理牌桌\n                this.clearPaiZhuo();\n                //赋值\n                this._lastPai = lastPai;\n                //展示\n                this.showLastPai();\n\n            }\n\n            //三个不出，说明又轮到上次出牌的玩家\n            if(this._buChuNum==(3-this.winPlayer.length)){\n\n                //清理牌桌\n                this.clearPaiZhuo();\n\n                this._lastPai = null;\n\n            }\n\n            this.players[this._currentPlayer].currentTag.setVisible(false);\n\n            if(this.players[this._currentPlayer].shouPai.length == 0){\n\n                cc.log(\"wp lenght:\"+this.winPlayer.length);\n\n                this.winPlayer.push(this._currentPlayer);\n\n                this.players[this._currentPlayer].getComponent(\"Player\").actionLabel.string = \"NO. \"+this.winPlayer.length;\n\n            }\n\n            this._currentPlayer = (this._currentPlayer+1)%this.playerNum;\n\n            //cc.log(this.players[this._currentPlayer]);\n    \n            this.players[this._currentPlayer].currentTag.setVisible(true);\n\n            this.players[this._currentPlayer].actionLabel.string = \"\";\n\n            this.players[this._currentPlayer].toggle();\n\n        }\n\n    },\n        \n    /**\n     * 检查出牌的合法性\n     */\n    checkChuPai:function(xuanPai,p){\n\n        var isCurrent = p==this._currentPlayer;\n\n        // isCurrent = true;\n\n        //是否该出牌\n        if(!isCurrent){\n\n            return false;\n        }\n\n        //判断选中的牌\n        if(xuanPai!=null){\n\n            if(this._lastPai==null || this._lastPai.length==0){\n\n                 return this.composeCheck(xuanPai);\n\n            }else {\n\n                var length = xuanPai.length;\n\n                var lastLength = this._lastPai.length;\n\n                if(lastLength==1){\n                    //单\n                    if(length == 1){\n\n                        return this.convertValueMore(xuanPai)>this.convertValueMore(this._lastPai);\n\n                    }else {\n                        //炸 大于1600为炸\n                        var value = this.convertValueMore(xuanPai);\n\n                        return value>1600 && value>this.convertValueMore(this._lastPai);\n\n                    }\n\n                }else if(lastLength >= 2 && lastLength < 5){\n                    //对\n                    if(length>=2){\n                        //可以出对，也可以出炸\n                        return this.convertValueMore(xuanPai)>this.convertValueMore(this._lastPai);\n\n                    }else {\n                        //不能出单\n                        return false;\n\n                    }\n\n                }\n\n                return false;\n\n            }\n\n        }\n\n        return false;\n\n    },\n\n    /**\n     * 组合检查\n     */\n    composeCheck:function(arr){\n\n        var length = arr.length;\n\n        if(length==1){\n\n            return true;\n        }else if(length<5){\n\n            var value = arr[0]._name.substring(1);\n\n            var isClown = false;\n\n            for(var i = 0;i<length;i++){\n                //鬼是一个特殊的组合\n                if(arr[i]._name.substring(0,1)==\"E\"){\n\n                    if(isClown){\n\n                        //只有两张 且都是鬼\n                        if(length ==2 ){\n\n                            return true;\n\n                        }else {\n\n                            return false;\n\n                        }\n                    }else {\n\n                        isClown = true;\n\n                    }\n                        \n\n                }else {\n                    //进到这里，这张牌不是大小鬼，出现不同权值 返回false\n                    if(isClown){\n\n                        return false;\n\n                    }\n\n                    var value2 = arr[i]._name.substring(1);\n\n                    if(value!=value2){\n\n                        return false;\n\n                    }\n\n                }\n\n            }\n\n            //如果到这里 isClown 为真，及有鬼存在，但多张牌只有一个鬼，说明牌组合不对\n            return !isClown;\n\n        }else {\n\n            return false;\n\n        }\n\n    },\n\n    /**\n     * 权值转换 \n     * 不包括大小鬼\n     */\n    convertValue:function(l){\n\n        if(l<4){\n\n            return (13+l)*10;\n\n        }else {\n\n            return l*10;\n\n        }\n\n    },\n\n    /**\n     * 大小鬼权值转换 \n     * \n     */\n    convertClownValue:function(l){\n        //大鬼 l = 0  小鬼 l=1\n        //小鬼要大于最大的单\n        return (13+3+2-l)*10;\n\n    },\n\n    /**\n     * 权值转换 多张\n     */\n    convertValueMore:function(arr){\n\n        var weight = 0;\n\n        if(arr==null || arr.length == 0 || !this.composeCheck(arr)){\n\n            return weight;\n\n        }else {\n\n            var f = arr[0]._name.substring(0,1);\n\n            var l = parseInt(arr[0]._name.substring(1));\n\n            if(f == \"E\"){\n                //鬼\n                weight = 13+3+2-l;\n                \n\n            }else {\n\n                if(l<4){\n\n                    weight = 13+l;\n\n                }else {\n\n                    weight = l;\n\n                }\n\n            }\n            //特例\n            if(arr.length==2){\n\n                if(l == 10){\n\n                    return 16*Math.pow(10,2)+1;//比对3大1\n\n                }else if(l == 5){\n\n                    var value = f.charCodeAt()+arr[1]._name.substring(0,1).charCodeAt();\n                                    \n                    if(value == 196){\n                        //对黑5\n                        return 16*Math.pow(10,4)+3;//比对红5大1\n                    }else if(value == 198){\n                        //对红5\n                        return 16*Math.pow(10,4)+2//比对鬼大1\n                    }\n                    \n                }else if(f == \"E\"){\n\n                    return 16*Math.pow(10,4)+1;//比四个3大1\n\n                }\n\n            }\n\n            //cc.log(\"weight:\"+weight);\n\n            return weight * Math.pow(10,arr.length);\n\n\n        }\n\n    },\n\n    /**\n     * 排序方法\n     */\n    sortPai:function(spriteArr){\n\n        //cc.log(spriteArr);\n\n        for(var i = 0;i<spriteArr.length;i++){\n\n            for(var j = i+1;j<spriteArr.length;j++){\n\n                var name1 = spriteArr[i]._name;\n\n                var name2 = spriteArr[j]._name;\n\n                //cc.log(name1.substring(1));\n\n                //cc.log(\"name1:\"+name1+\" name2:\"+name2);\n              \n                if(parseInt(name1.substring(1))>parseInt(name2.substring(1))){\n\n                    //cc.log(\"-name1:\"+name1+\" name2:\"+name2);\n\n                    var temp = spriteArr[i];\n\n                    spriteArr[i] = spriteArr[j];\n\n                    spriteArr[j] = temp;\n\n                }else if(name1.substring(1)==name2.substring(1)){\n\n                    var code1 = name1.substring(0,1).charCodeAt();\n                    var code2 = name2.substring(0,1).charCodeAt();\n\n                    //5的特殊排序\n                    if(name1.substring(1)==\"5\"){\n                        //把对黑5或对红5放到一起\n                        //把红桃与草花互换\n                        if(code1==99){\n\n                            code1 = 98;\n\n                        }else if(code1==98){\n\n                            code1 = 99;\n\n                        }\n\n                        if(code2==99){\n\n                            code2 = 98;\n\n                        }else if(code2==98){\n\n                            code2 = 99;\n\n                        }\n\n                    }\n\n                    if(code1>code2){\n\n                        var temp = spriteArr[i];\n\n                        spriteArr[i] = spriteArr[j];\n\n                        spriteArr[j] = temp;\n\n                    }\n\n                }\n            }\n            \n\n        }\n\n    },\n\n    /**\n     * 展示在牌桌上\n     */\n    showLastPai:function(){\n\n        cc.log(\"player:\"+this._currentPlayer);\n\n        if(this._lastPai!=null && this._lastPai.length !=0){\n\n            var size = cc.winSize;\n\n            //展示\n            for(var j = 0;j<this._lastPai.length;j++){\n\n                var node = this._lastPai[j];\n\n                cc.log(\"node:\");\n                cc.log(node);\n\n                cc.director.getScene().addChild(node);\n\n                node.setPosition(cc.p(size.width/2 + j*30,size.height/2));\n\n            }\n\n        }\n\n    },\n\n    /**\n     * 清空牌桌\n     */\n    clearPaiZhuo:function(){\n\n        cc.log(\"clearPaiZhuo\");\n\n        if(this._lastPai!=null && this._lastPai.length !=0){\n\n            for(var i = 0;i<this._lastPai.length;i++){\n\n                var node = this._lastPai[i];\n\n                cc.log(node);\n\n                node.removeFromParent();\n\n                node.destroy();\n\n            }\n\n        }\n\n    },\n\n    \n\n};\n"
  ]
}