{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "module.exports = {\n\n    playerNum : 4,//玩家数\n\n    paiNum : 32,//牌数\n\n    players: null,//所有玩家的容器\n\n    lastPai:null,//上家出的牌\n\n    //_firstPlayer:0,//第一个出牌的玩家\n\n    _currentPlayer:0,//当前出牌的玩家\n\n    setFirstPlayer:function(firstPlayer){\n        \n        //this._firstPlayer = firstPlayer;\n        this._currentPlayer = firstPlayer;\n\n    },\n\n    nextPlayer:function(){\n\n        this._currentPlayer = (this._currentPlayer+1)%this.playerNum;\n\n        //cc.log(this.players[this._currentPlayer]);\n\n        this.players[this._currentPlayer].getComponent(\"Player\").toggle();\n\n    },\n        \n    /**\n     * 检查出牌的合法性\n     */\n    checkChuPai:function(xuanPai,p){\n\n        var isCurrent = p==this._currentPlayer;\n\n        // isCurrent = true;\n\n        //是否该出牌\n        if(!isCurrent){\n\n            return false;\n        }\n\n        //判断选中的牌\n        if(xuanPai!=null){\n\n            if(this.lastPai==null || this.lastPai.length==0){\n\n                 return this.composeCheck(xuanPai);\n\n            }else {\n\n                var length = xuanPai.length;\n\n                var lastLength = this.lastPai.length;\n\n                if(lastLength==1){\n                    //单\n                    if(length == 1){\n\n                        return this.convertValueMore(xuanPai)>this.convertValueMore(this.lastPai);\n\n                    }else {\n                        //炸 大于32为炸\n                        var value = this.convertValueMore(xuanPai);\n\n                        return value>32 && value>this.convertValueMore(this.lastPai);\n\n                    }\n\n                }else if(lastLength >= 2 && lastLength < 5){\n                    //对\n                    if(length>=2){\n                        //可以出对，也可以出炸\n                        return this.convertValueMore(xuanPai)>this.convertValueMore(this.lastPai);\n\n                    }else {\n                        //不能出单\n                        return false;\n\n                    }\n\n                }\n\n                return false;\n\n            }\n\n        }\n\n        return false;\n\n    },\n\n    /**\n     * 组合检查\n     */\n    composeCheck:function(arr){\n\n        var length = arr.length;\n\n        if(length==1){\n\n            return true;\n        }else if(length<5){\n\n            var value = arr[0]._name.substring(1);\n\n            var isClown = false;\n\n            for(var i = 0;i<length;i++){\n                //鬼是一个特殊的组合\n                if(arr[i]._name.substring(0,1)==\"E\"){\n\n                    if(isClown){\n\n                        //只有两张 且都是鬼\n                        if(length ==2 ){\n\n                            return true;\n\n                        }else {\n\n                            return false;\n\n                        }\n                    }else {\n\n                        isClown = true;\n\n                    }\n                        \n\n                }else {\n                    //进到这里，这张牌不是大小鬼，出现不同权值 返回false\n                    if(isClown){\n\n                        return false;\n\n                    }\n\n                    var value2 = arr[i]._name.substring(1);\n\n                    if(value!=value2){\n\n                        return false;\n\n                    }\n\n                }\n\n            }\n\n            //如果到这里 isClown 为真，及有鬼存在，但多张牌只有一个鬼，说明牌组合不对\n            return !isClown;\n\n        }else {\n\n            return false;\n\n        }\n\n    },\n\n    /**\n     * 权值转换 \n     * 不包括大小鬼\n     */\n    convertValue:function(l){\n\n        if(l<4){\n\n            return (13+l)*10;\n\n        }else {\n\n            return l*10;\n\n        }\n\n    },\n\n    /**\n     * 大小鬼权值转换 \n     * \n     */\n    convertClownValue:function(l){\n        //大鬼 l = 0  小鬼 l=1\n        //小鬼要大于最大的单\n        return (13+3+2-l)*10;\n\n    },\n\n    /**\n     * 权值转换 多张\n     */\n    convertValueMore:function(arr){\n\n        var weight = 0;\n\n        if(arr==null || arr.length == 0 || !this.composeCheck(arr)){\n\n            return weight;\n\n        }else {\n\n            var f = arr[0]._name.substring(0,1);\n\n            var l = parseInt(arr[0]._name.substring(1));\n\n            if(f == \"E\"){\n                //鬼\n                weight = 13+3+2-l;\n                \n\n            }else {\n\n                if(l<4){\n\n                    weight = 13+l;\n\n                }else {\n\n                    weight = l;\n\n                }\n\n            }\n            //特例\n            if(arr.length==2){\n\n                if(l == 10){\n\n                    return 16*Math.pow(10,2)+1;//比对3大1\n\n                }else if(l == 5){\n\n                    var value = f.charCodeAt()+arr[1]._name.substring(0,1).charCodeAt();\n                                    \n                    if(value == 196){\n                        //对黑5\n                        return 16*Math.pow(10,4)+3;//比对红5大1\n                    }else if(value == 198){\n                        //对红5\n                        return 16*Math.pow(10,4)+2//比对鬼大1\n                    }\n                    \n                }else if(f == \"E\"){\n\n                    return 16*Math.pow(10,4)+1;//比四个3大1\n\n                }\n\n            }\n\n            //cc.log(\"weight:\"+weight);\n\n            return weight * Math.pow(10,arr.length);\n\n\n        }\n\n    },\n\n    /**\n     * 排序方法\n     */\n    sortPai:function(spriteArr){\n\n        //cc.log(spriteArr);\n\n        for(var i = 0;i<spriteArr.length;i++){\n\n            for(var j = i+1;j<spriteArr.length;j++){\n\n                var name1 = spriteArr[i]._name;\n\n                var name2 = spriteArr[j]._name;\n\n                //cc.log(name1.substring(1));\n\n                //cc.log(\"name1:\"+name1+\" name2:\"+name2);\n              \n                if(parseInt(name1.substring(1))>parseInt(name2.substring(1))){\n\n                    //cc.log(\"-name1:\"+name1+\" name2:\"+name2);\n\n                    var temp = spriteArr[i];\n\n                    spriteArr[i] = spriteArr[j];\n\n                    spriteArr[j] = temp;\n\n                }else if(name1.substring(1)==name2.substring(1)){\n\n                    var code1 = name1.substring(0,1).charCodeAt();\n                    var code2 = name2.substring(0,1).charCodeAt();\n\n                    //5的特殊排序\n                    if(name1.substring(1)==\"5\"){\n                        //把对黑5或对红5放到一起\n                        //把红桃与草花互换\n                        if(code1==99){\n\n                            code1 = 98;\n\n                        }else if(code1==98){\n\n                            code1 = 99;\n\n                        }\n\n                        if(code2==99){\n\n                            code2 = 98;\n\n                        }else if(code2==98){\n\n                            code2 = 99;\n\n                        }\n\n                    }\n\n                    if(code1>code2){\n\n                        var temp = spriteArr[i];\n\n                        spriteArr[i] = spriteArr[j];\n\n                        spriteArr[j] = temp;\n\n                    }\n\n                }\n            }\n            \n\n        }\n\n    },\n\n};\n"
  ]
}