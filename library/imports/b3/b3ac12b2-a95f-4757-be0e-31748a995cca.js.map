{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var com = require('Common');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n        player:{\n\n            default:null,\n            type:cc.Sprite,\n\n        }\n\n    },\n\n    // use this for initialization\n    onLoad: function () {\n\n        this.player.xuanPai = new Array();\n\n        \n\n        var node = this.player.node;\n\n        // cc.director.getScene().addChild(node);\n\n        this.node.addChild(node);\n\n        node.setPosition(cc.p(-this.node.width/2-(node.width/3*2),0));\n\n        //展示手牌\n        this.drawPai();\n\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n\n    /**\n     * 出牌\n     */\n    chuPai:function(){\n\n        var self = this;\n\n        //出牌合法性\n        if(com.checkChuPai(self.player.xuanPai,0)){\n\n            //移除TOUCH监听\n            for(var m = 0;m<self.player.shouPai.length;m++){\n\n                self.player.shouPai[m].off(cc.Node.EventType.TOUCH_START,self.touchPai,this);\n\n            }\n\n            //合法\n            var indexArr = new Array();\n\n            var windowSize = cc.winSize;\n\n            //得到要出的牌在手牌中的位置\n            for(var i = 0;i<self.player.xuanPai.length;i++){\n\n                for(var j=0;j<self.player.shouPai.length;j++){\n\n                    if(self.player.shouPai[j]._name==self.player.xuanPai[i]._name){\n\n                        //cc.log(self.player.shouPai[j]._name);\n\n                        indexArr.push(j);\n\n                    }\n                }\n            }\n\n            self.player.xuanPai.splice(0,self.player.xuanPai.length);\n\n            indexArr.sort();\n\n            //清空牌桌\n            //com.clearPaiZhuo();\n\n            var lastPai = new Array();\n\n            //出牌动作\n            for(var i = 0;i<indexArr.length;i++){\n\n                var sprite = self.player.shouPai[indexArr[i]];\n\n                //记录出牌\n                lastPai.push(sprite);\n\n                sprite.removeFromParent();\n\n                // var p = sprite.convertToWorldSpace(cc.p(0,0));\n\n                // var nodeP = self.node.convertToWorldSpace(cc.p(self.node.getContentSize().width/2,self.node.getContentSize().height/2));\n\n                // var x = windowSize.width/2-nodeP.x+30*i;\n\n                // var y = windowSize.height/2-p.y;\n\n                // sprite.runAction(cc.moveTo(0.5,cc.p(x,y)));\n\n            }\n            \n\n            indexArr.reverse();\n            \n            //从手牌中删除\n            for(var n = 0;n<indexArr.length;n++){\n\n                self.player.shouPai.splice(indexArr[n],1);\n\n            }\n\n            //刷新手牌展示\n            self.drawPai();\n\n            com.nextPlayer(lastPai);\n\n        }else {\n            //不合法\n            var length = self.player.xuanPai.length;\n\n            for(var i = 0;i<length;i++){\n\n                self.player.xuanPai.pop().runAction(cc.moveBy(0.1,0,-30));\n\n            }\n        \n        }\n\n    },\n\n    \n    buChuPai:function(){\n\n        com.nextPlayer();\n\n    },\n\n    /**\n     * 展示手牌\n     */\n    drawPai:function(){\n\n        var self = this;\n\n        com.sortPai(self.player.shouPai);\n\n        var num = self.player.shouPai.length;\n\n        //var size = self.node.getContentSize();\n\n        for(var i = 0;i<num;i++){\n\n            var pai = self.player.shouPai[i];\n            // cc.log(\"pai i:\"+i);\n            // cc.log(pai);\n            // cc.log(\"self.node:\");\n            // cc.log(self.node);\n            self.node.addChild(pai);\n            // pai.setScale(0.5);\n            pai.setPosition(cc.p(-(pai.width+(num-1)*30)/2+pai.width/2+i*30,0));\n            pai.on(cc.Node.EventType.TOUCH_START,self.touchPai,this);\n\n        }\n        \n\n    },\n\n    /**\n     * TOUCH监听回调\n     */\n    touchPai:function(event){\n\n        var self = this;\n\n        var node = event.target;\n        var index = -1;\n\n        for(var j = 0;j<self.player.xuanPai.length;j++){\n\n            if(node._name==self.player.xuanPai[j]._name){\n\n                index = j;\n\n                break;\n\n            }\n\n        }\n\n        if(index==-1){\n\n            self.player.xuanPai.push(node);\n\n            node.runAction(cc.moveBy(0.1,0,30));\n\n        }else {\n\n            self.player.xuanPai.splice(index,1);\n\n            node.runAction(cc.moveBy(0.1,0,-30));\n\n        }\n\n    },\n});\n"
  ]
}